import{_ as e}from"./index-Ba4agNH_.js";import"./vendor-react-Di3sF8BB.js";import"./vendor-radix-6DXuBJN5.js";import"./vendor-utils-BNexaxpF.js";import"./vendor-icons-CX117ToW.js";import"./vendor-query-B031p5Or.js";import"./vendor-supabase-C3HG44mJ.js";function r(r={}){const{immediate:t=!1,onNeedRefresh:o,onOfflineReady:i,onRegistered:n,onRegisteredSW:s,onRegisterError:a}=r;let d,c;return c=async function(){if("serviceWorker"in navigator){if(d=await e(async()=>{const{Workbox:e}=await import("./workbox-window.prod.es5-DaSx2M5h.js");return{Workbox:e}},[]).then(({Workbox:e})=>new e("/sw.js",{scope:"/",type:"classic"})).catch(e=>{a?.(e)}),!d)return;d.addEventListener("activated",e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),d.addEventListener("installed",e=>{e.isUpdate||i?.()}),d.register({immediate:t}).then(e=>{s?s("/sw.js",e):n?.(e)}).catch(e=>{a?.(e)})}}(),async(e=!0)=>{await c}}export{r as registerSW};
