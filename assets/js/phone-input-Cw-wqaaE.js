import{r as e,j as t}from"./vendor-react-Di3sF8BB.js";import{h as r}from"./index-Ba4agNH_.js";const n=e.forwardRef(({value:n="",onChange:l,placeholder:s,className:o,required:a,disabled:i},c)=>{const[u,d]=e.useState(""),f=e.useRef(null),p=e=>{const t=e.replace(/\D/g,"").slice(0,9);let r="";return t.length>0&&(r+=t.slice(0,2)),t.length>2&&(r+=" "+t.slice(2,5)),t.length>5&&(r+=" "+t.slice(5,7)),t.length>7&&(r+=" "+t.slice(7,9)),r},g=e=>e.replace(/\D/g,"");e.useEffect(()=>{if(n){const e=n.replace(/\D/g,""),t=e.startsWith("998")?e.slice(3):e;d(p(t))}},[]);return t.jsxs("div",{className:r("flex items-center h-12 w-full rounded-xl border border-input bg-background text-base ring-offset-background","focus-within:outline-none focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",i&&"cursor-not-allowed opacity-50",o),children:[t.jsx("span",{className:"pl-4 pr-1 text-muted-foreground font-medium select-none",children:"+998"}),t.jsx("input",{ref:c||f,type:"tel",inputMode:"numeric",autoComplete:"tel",value:u,onChange:e=>{const t=e.target.value,r=g(t),n=p(r);if(d(n),l){const e=r.length>0?`+998${r}`:"";l(e)}},onKeyDown:e=>{if(["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e.key))return;if((e.ctrlKey||e.metaKey)&&["a","c","v","x"].includes(e.key.toLowerCase()))return;/^\d$/.test(e.key)||e.preventDefault();g(u).length>=9&&/^\d$/.test(e.key)&&e.preventDefault()},onPaste:e=>{e.preventDefault();let t=e.clipboardData.getData("text").replace(/\D/g,"");t.startsWith("998")?t=t.slice(3):t.startsWith("8")&&(t=t.slice(1));const r=p(t);if(d(r),l){const e=g(r),t=e.length>0?`+998${e}`:"";l(t)}},placeholder:s||"XX XXX XX XX",required:a,disabled:i,className:r("flex-1 h-full bg-transparent px-2 pr-4 outline-none placeholder:text-muted-foreground","disabled:cursor-not-allowed")})]})});n.displayName="PhoneInput";export{n as P};
